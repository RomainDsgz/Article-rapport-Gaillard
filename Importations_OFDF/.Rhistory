color = "black",
linewidth = 1.1,
labels = "Ratio") +
scale_y_continuous(
name = "Food and energy imports (thousands CHF)",
labels = comma,
sec.axis = sec_axis(~./coef,
name = "Ratio of total imports (%)")
) +
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9"),
labels = c("Food", "Energy")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
library(dplyr)
library(tidyr)
library(tibble)
library(readxl)
library(ggplot2)
library(areaplot)
library(scales)
# ---- 4. Graphique ----
ggplot(df_long, aes(x = year)) +
geom_area(aes(y = value, fill = category),
position = "stack",
alpha = 0.8) +
# Ligne ratio
geom_line(data = df,
aes(y = ratio * coef),
color = "black",
linewidth = 1.1,
labels = "Ratio") +
scale_y_continuous(
name = "Food and energy imports (thousands CHF)",
labels = comma,
sec.axis = sec_axis(~./coef,
name = "Ratio of total imports (%)")
) +
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9"),
labels = c("Food", "Energy")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
# ---- 4. Graphique ----
ggplot(df_long, aes(x = year)) +
geom_area(aes(y = value, fill = category),
position = "stack",
alpha = 0.8) +
# Ligne ratio
geom_line(data = df,
aes(y = ratio * coef, color ="Ratio"),
color = "black",
linewidth = 1.1) +
scale_y_continuous(
name = "Food and energy imports (thousands CHF)",
labels = comma,
sec.axis = sec_axis(~./coef,
name = "Ratio of total imports (%)")
) +
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9"),
labels = c("Food", "Energy")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
# ---- 4. Graphique ----
ggplot(df_long, aes(x = year)) +
geom_area(aes(y = value, fill = category),
position = "stack",
alpha = 0.8) +
# Ligne ratio
geom_line(data = df,
aes(y = ratio * coef, color ="Ratio"),
color = "black",
linewidth = 1.1) +
scale_y_continuous(
name = "Food and energy imports (thousands CHF)",
labels = comma,
sec.axis = sec_axis(~./coef,
name = "Ratio of total imports (%)")
) +
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9"),
labels = c("Food", "Energy")
) +
scale_color_manual(
name = NULL,
values = c("Ratio" = "black"),
labels = c("Ratio")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
# ---- 4. Graphique ----
ggplot(df_long, aes(x = year)) +
geom_area(
aes(y = value, fill = category),
position = "stack",
alpha = 0.8
) +
# Ligne ratio — ajout de aes(color = "Ratio")
geom_line(
data = df,
aes(y = ratio * coef, color = "Ratio"),
linewidth = 1.1
) +
scale_y_continuous(
name = "Food and energy imports (thousands CHF)",
labels = scales::comma,
sec.axis = sec_axis(~./coef, name = "Ratio of total imports (%)")
) +
# Même nom de légende pour fill et color
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9"),
labels = c("Energy", "Food")
) +
scale_color_manual(
name = NULL,
values = c("Ratio" = "black"),
labels = c("Ratio")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
guides(
fill = guide_legend(order = 1, override.aes = list(color = NA)),
color = guide_legend(order = 2)
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
# ---- 4. Graphique ----
ggplot(df_long, aes(x = year)) +
geom_area(
aes(y = value, fill = category),
position = "stack",
alpha = 0.8
) +
# Ligne ratio — ajout de aes(color = "Ratio")
geom_line(
data = df,
aes(y = ratio * coef, color = "Ratio"),
linewidth = 1.1
) +
scale_y_continuous(
name = "Food and energy imports (thousands CHF)",
labels = scales::comma,
sec.axis = sec_axis(~./coef, name = "Ratio of total imports (%)")
) +
# Même nom de légende pour fill et color
scale_color_manual(
name = NULL,
values = c("Ratio" = "black"),
labels = c("Ratio")
) +
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9"),
labels = c("Energy", "Food")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
guides(
fill = guide_legend(order = 1, override.aes = list(color = NA)),
color = guide_legend(order = 2)
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
# ---- 4. Graphique ----
ggplot(df_long, aes(x = year)) +
geom_area(
aes(y = value, fill = category),
position = "stack",
alpha = 0.8
) +
# Ligne ratio — ajout de aes(color = "Ratio")
geom_line(
data = df,
aes(y = ratio * coef, color = "Ratio"),
linewidth = 1.1
) +
scale_y_continuous(
name = "Food and energy imports (thousands CHF)",
labels = scales::comma,
sec.axis = sec_axis(~./coef, name = "Ratio of total imports (%)")
) +
# Même nom de légende pour fill et color
scale_color_manual(
name = NULL,
values = c("ratio" = "black"),
labels = c("Share of food and energy in total imports (right-side axis) ")
) +
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9"),
labels = c("Energy", "Food")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
guides(
fill = guide_legend(order = 1, override.aes = list(color = NA)),
color = guide_legend(order = 2)
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
# ---- 4. Graphique ----
ggplot(df_long, aes(x = year)) +
geom_area(
aes(y = value, fill = category),
position = "stack",
alpha = 0.8
) +
# Ligne ratio — ajout de aes(color = "Ratio")
geom_line(
data = df,
aes(y = ratio * coef, color = "Ratio"),
linewidth = 1.1
) +
scale_y_continuous(
name = "Food and energy imports (thousands CHF)",
labels = scales::comma,
sec.axis = sec_axis(~./coef, name = "Ratio of total imports (%)")
) +
# Même nom de légende pour fill et color
scale_color_manual(
name = NULL,
values = c("Ratio" = "black"),
labels = c("Share of food and energy in total imports (right-side axis) ")
) +
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9"),
labels = c("Energy", "Food")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
guides(
fill = guide_legend(order = 1, override.aes = list(color = NA)),
color = guide_legend(order = 2)
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
ggsave("imports_foodenergy.jpg", width = 18, height = 15, units = "cm")
# ---- 4. Graphique ----
ggplot(df_long, aes(x = year)) +
geom_area(
aes(y = value, fill = category),
position = "stack",
alpha = 0.8
) +
# Ligne ratio — ajout de aes(color = "Ratio")
geom_line(
data = df,
aes(y = ratio * coef, color = "Ratio"),
linewidth = 1.1
) +
scale_y_continuous(
name = "Imports (thousands CHF)",
labels = scales::comma,
sec.axis = sec_axis(~./coef, name = "Share of total imports (%)")
) +
# Même nom de légende pour fill et color
scale_color_manual(
name = NULL,
values = c("Ratio" = "black"),
labels = c("Share of food and energy in total imports (right-side axis) ")
) +
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9"),
labels = c("Energy", "Food")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
guides(
fill = guide_legend(order = 1, override.aes = list(color = NA)),
color = guide_legend(order = 2)
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
ggsave("imports_foodenergy.jpg", width = 18, height = 15, units = "cm")
# ---- 4. Graphique ----
ggplot(df_long, aes(x = year)) +
geom_area(
aes(y = value, fill = category),
position = "stack",
alpha = 0.8
) +
# Ligne ratio — ajout de aes(color = "Ratio")
geom_line(
data = df,
aes(y = ratio * coef, color = "Ratio"),
linewidth = 1.1
) +
scale_y_continuous(
name = "Imports (thousands CHF)",
labels = scales::comma,
sec.axis = sec_axis(~./coef, name = "Share of total imports (%)")
) +
# Même nom de légende pour fill et color
scale_color_manual(
name = NULL,
values = c("Ratio" = "black"),
labels = c("Share of food and energy in total imports (right-side axis) ")
) +
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9"),
labels = c("Food", "Energy")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
guides(
fill = guide_legend(order = 1, override.aes = list(color = NA)),
color = guide_legend(order = 2)
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
ggsave("imports_foodenergy.jpg", width = 18, height = 15, units = "cm")
# ---- 4. Graphique ----
ggplot(df_long, aes(x = year)) +
geom_area(
aes(y = value, fill = category),
position = "stack",
alpha = 0.8
) +
# Ligne ratio — ajout de aes(color = "Ratio")
geom_line(
data = df,
aes(y = ratio * coef, color = "Ratio"),
linewidth = 1.1
) +
scale_y_continuous(
name = "Imports (thousands CHF)",
labels = scales::comma,
sec.axis = sec_axis(~./coef, name = "Share of total imports (%)")
) +
# Même nom de légende pour fill et color
scale_color_manual(
name = NULL,
values = c("Ratio" = "black"),
labels = c("Share of food and energy in total imports (right-side axis) ")
) +
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
guides(
fill = guide_legend(order = 1, override.aes = list(color = NA)),
color = guide_legend(order = 2)
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
# ---- 4. Graphique ----
ggplot(df_long, aes(x = year)) +
geom_area(
aes(y = value, fill = category),
position = "stack",
alpha = 0.8
) +
# Ligne ratio — ajout de aes(color = "Ratio")
geom_line(
data = df,
aes(y = ratio * coef, color = "Ratio"),
linewidth = 1.1
) +
scale_y_continuous(
name = "Imports (thousands CHF)",
labels = scales::comma,
sec.axis = sec_axis(~./coef, name = "Share of total imports (%)")
) +
# Même nom de légende pour fill et color
scale_color_manual(
name = NULL,
values = c("Ratio" = "black"),
labels = c("Share of food and energy in total imports (right-side axis) ")
) +
scale_fill_manual(
name = NULL,
values = c("energy" = "#E69F00", "food" = "#56B4E9"),
labels = c("Food", "Energy")
) +
labs(
title = "Share of food and energy in total imports",
subtitle = "Switzerland, 2000-Q1 – 2025-Q2",
x = "Year",
caption = "Source: Federal Office for Customs and Border Security (FOCBS), 2025"
) +
guides(
fill = guide_legend(order = 1, override.aes = list(color = NA)),
color = guide_legend(order = 2)
) +
theme_minimal(base_size = 13) +
theme(
legend.position = "bottom",
legend.title = element_text(face = "bold"),
plot.title = element_text(face = "bold"),
axis.title.y.right = element_text(color = "black")
)
